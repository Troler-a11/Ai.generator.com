<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PREMIUM SYSTEM v6.0</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<nav class="navbar">
    <div class="logo">LUXE<span>STORE</span></div>
    
    <div class="search-bar">
        <input type="text" id="search-input" placeholder="–ü–æ—à—É–∫ —Ç–æ–≤–∞—Ä—ñ–≤..." oninput="filterProducts()">
    </div>

    <div class="nav-tools">
        <button class="admin-btn" onclick="toggleAdmin()">‚öôÔ∏è ADM</button>
        <div class="cart-status" onclick="toggleCart()">üõí <span id="cart-count">0</span></div>
    </div>
</nav>

<section id="admin-panel" class="admin-section" style="display:none">
    <div class="glass-card">
        <h3>–£–ü–†–ê–í–õ–Ü–ù–ù–Ø –°–ö–õ–ê–î–û–ú</h3>
        <div class="admin-inputs">
            <input type="text" id="p-name" placeholder="–ù–∞–∑–≤–∞ —Ç–æ–≤–∞—Ä—É">
            <input type="number" id="p-price" placeholder="–¶—ñ–Ω–∞ (UAH)">
            <input type="text" id="p-img" placeholder="–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ñ–æ—Ç–æ (URL)">
            <button class="add-btn" onclick="addNewProduct()">–î–û–î–ê–¢–ò –ù–ê –í–Ü–¢–†–ò–ù–£</button>
        </div>
    </div>
</section>

<main class="store-grid" id="products-container">
    </main>

<div id="checkout-modal" class="modal">
    <div class="modal-content glass">
        <h2>–í–ê–®–ï –ó–ê–ú–û–í–õ–ï–ù–ù–Ø</h2>
        <div id="cart-items-list"></div>
        <hr>
        <p id="total-price">–†–∞–∑–æ–º: 0 UAH</p>
        <input type="text" id="cust-name" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ —Ç–∞ –Ü–º'—è">
        <input type="tel" id="cust-phone" placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É">
        <button class="pay-btn" onclick="sendOrder()">–ü–Ü–î–¢–í–ï–†–î–ò–¢–ò –¢–ê –û–ü–õ–ê–¢–ò–¢–ò</button>
        <button class="close-btn" onclick="toggleCart()">–ó–ê–ö–†–ò–¢–ò</button>
    </div>
</div>

<script>
    // –ü–æ—á–∞—Ç–∫–æ–≤—ñ —Ç–æ–≤–∞—Ä–∏ (—è–∫—â–æ –±–∞–∑–∞ –ø–æ—Ä–æ–∂–Ω—è)
    let inventory = JSON.parse(localStorage.getItem('myStoreProducts')) || [
        {id: 1, name: "iPhone 15 Pro Max", price: 48000, img: "https://images.unsplash.com/photo-1696446701796-da61225697cc?w=500"},
        {id: 2, name: "MacBook Air M2", price: 42000, img: "https://images.unsplash.com/photo-1611186871348-b1ec696e5237?w=500"}
    ];

    let cart = [];

    function renderStore(items = inventory) {
        const container = document.getElementById('products-container');
        container.innerHTML = items.map(p => `
            <div class="product-card glass">
                <div class="img-wrapper"><img src="${p.img}"></div>
                <h3>${p.name}</h3>
                <p class="price">${p.price.toLocaleString()} UAH</p>
                <button class="buy-btn" onclick="addToCart(${p.id})">–ö–£–ü–ò–¢–ò</button>
                <button class="del-btn" onclick="deleteProduct(${p.id})" style="display:none">–í–ò–î–ê–õ–ò–¢–ò</button>
            </div>
        `).join('');
    }

    // –ü–û–®–£–ö
    function filterProducts() {
        const query = document.getElementById('search-input').value.toLowerCase();
        const filtered = inventory.filter(p => p.name.toLowerCase().includes(query));
        renderStore(filtered);
    }

    // –ê–î–ú–Ü–ù-–§–£–ù–ö–¶–Ü–á
    function toggleAdmin() {
        const pass = prompt("–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞:");
        if(pass === "5555") {
            const panel = document.getElementById('admin-panel');
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            document.querySelectorAll('.del-btn').forEach(b => b.style.display = 'block');
        } else {
            alert("–î–æ—Å—Ç—É–ø –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ!");
        }
    }

    function addNewProduct() {
        const name = document.getElementById('p-name').value;
        const price = document.getElementById('p-price').value;
        const img = document.getElementById('p-img').value;

        if(!name || !price || !img) return alert("–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è!");

        const newP = { id: Date.now(), name, price: Number(price), img };
        inventory.push(newP);
        saveAndRefresh();
    }

    function deleteProduct(id) {
        inventory = inventory.filter(p => p.id !== id);
        saveAndRefresh();
    }

    function saveAndRefresh() {
        localStorage.setItem('myStoreProducts', JSON.stringify(inventory));
        renderStore();
    }

    // –ö–û–®–ò–ö
    function addToCart(id) {
        cart.push(inventory.find(p => p.id === id));
        document.getElementById('cart-count').innerText = cart.length;
    }

    function toggleCart() {
        const modal = document.getElementById('checkout-modal');
        modal.style.display = modal.style.display === 'flex' ? 'none' : 'flex';
        renderCartList();
    }

    function renderCartList() {
        const list = document.getElementById('cart-items-list');
        const total = cart.reduce((sum, p) => sum + p.price, 0);
        list.innerHTML = cart.map(p => `<div class="cart-item">${p.name} - ${p.price} UAH</div>`).join('');
        document.getElementById('total-price').innerText = `–†–∞–∑–æ–º: ${total.toLocaleString()} UAH`;
    }

    async function sendOrder() {
        const name = document.getElementById('cust-name').value;
        const total = cart.reduce((sum, p) => sum + p.price, 0);
        if(!name) return alert("–í–≤–µ–¥—ñ—Ç—å —ñ–º'—è!");

        // –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –¢–µ–ª–µ–≥—Ä–∞–º (–¥–ª—è –ø—Ä–∏–∫–ª–∞–¥—É)
        alert(`–î—è–∫—É—î–º–æ, ${name}! –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ —Å—É–º—É ${total} UAH –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ –ø—Ä–æ–¥–∞–≤—Ü—é.`);
        cart = [];
        document.getElementById('cart-count').innerText = "0";
        toggleCart();
    }

    renderStore();
</script>
</body>
</html>
 
