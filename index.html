<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>HARD_CASINO | Elite Terminal</title>
    <style>
        :root { --accent: #00ff88; --bg: #050506; --panel: #111113; --gold: #ffcc00; }
        body { background: var(--bg); color: white; font-family: 'JetBrains Mono', monospace; margin: 0; overflow-x: hidden; }
        .header { display: flex; justify-content: space-between; padding: 20px 40px; background: var(--panel); border-bottom: 1px solid var(--accent); }
        .btn { background: var(--accent); color: #000; border: none; padding: 12px 25px; cursor: pointer; font-weight: bold; border-radius: 5px; transition: 0.2s; }
        .btn:hover { box-shadow: 0 0 15px var(--accent); }
        
        .game-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; padding: 50px; max-width: 1200px; margin: auto; }
        .card { background: var(--panel); border: 1px solid #222; border-radius: 15px; padding: 30px; text-align: center; position: relative; }
        .multiplier { position: absolute; top: 10px; right: 10px; background: var(--gold); color: #000; padding: 3px 8px; font-size: 12px; font-weight: bold; }

        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 3000; align-items: center; justify-content: center; }
        .modal-content { background: var(--panel); border: 2px solid var(--accent); padding: 40px; border-radius: 20px; width: 450px; text-align: center; }
        
        input { width: 80%; padding: 12px; background: #000; border: 1px solid var(--accent); color: white; margin: 10px 0; text-align: center; font-family: inherit; }
        
        #shuffleUI { display: none; position: fixed; inset: 0; background: #000; z-index: 5000; flex-direction: column; align-items: center; justify-content: center; }
        .matrix-text { color: var(--accent); font-size: 12px; width: 80%; height: 200px; overflow: hidden; opacity: 0.4; margin: 20px 0; word-break: break-all; }
    </style>
</head>
<body>

<div class="header">
    <div style="font-size: 24px; font-weight: 900; letter-spacing: 4px;">HARD<span>_CASINO</span></div>
    <div><button class="btn" onclick="openProfile()">ПРОФІЛЬ / ПОПОВНЕННЯ</button></div>
</div>

<div class="game-grid">
    <div class="card">
        <div class="multiplier">x4.0</div>
        <h3>CUPS</h3>
        <p style="font-size: 11px; color: #555;">Знайди зірку серед 20 стаканів.</p>
        <button class="btn" onclick="initiatePlay('cups')">ГРАТИ</button>
    </div>
    <div class="card">
        <div class="multiplier">x1.15</div>
        <h3>DICE</h3>
        <p style="font-size: 11px; color: #555;">Екстремальний рівень складності. Шанс 0.0001%.</p>
        <button class="btn" onclick="initiatePlay('dice')">ГРАТИ</button>
    </div>
    <div class="card">
        <div class="multiplier">x15.0</div>
        <h3>HACKER</h3>
        <p style="font-size: 11px; color: #555;">Злам 4-значного протоколу (0000-9999).</p>
        <button class="btn" onclick="initiatePlay('hacker')">ГРАТИ</button>
    </div>
</div>

<div id="shuffleUI">
    <h2 id="status-text" style="letter-spacing: 5px;">GENERIC_RANDOM_SEED...</h2>
    <div id="matrix" class="matrix-text"></div>
    <h1 id="timer" style="color: var(--accent); font-size: 48px;">3.0s</h1>
</div>

<div id="profileModal" class="modal">
    <div class="modal-content">
        <h2>TERMINAL</h2>
        <p>БАЛАНС: <span id="bal" style="color: var(--gold); font-size: 24px;">0</span> HK</p>
        <hr style="border: 0.5px solid #222;">
        <input type="number" id="usdIn" placeholder="Сума в $" oninput="document.getElementById('hkOut').innerText = this.value * 2">
        <p style="font-size: 14px;">Отримаєте: <span id="hkOut" style="color: var(--accent);">0</span> HK</p>
        <small>КАРТА: 4874 1000 8549 0699</small>
        <button class="btn" style="width: 100%; margin-top: 20px;" onclick="window.open('https://t.me/pingvin4ikpororo')">ПІДТВЕРДИТИ</button>
        <button onclick="document.querySelectorAll('.modal').forEach(m=>m.style.display='none')" style="background:none; border:none; color:#444; margin-top:15px; cursor:pointer;">Закрити</button>
    </div>
</div>

<script>
    let balance = parseInt(localStorage.getItem('hk_balance')) || 100;
    const winChance = 0.0000005; 

    function updateUI() {
        document.getElementById('bal').innerText = balance;
        localStorage.setItem('hk_balance', balance);
    }

    function openProfile() { document.getElementById('profileModal').style.display = 'flex'; updateUI(); }

    function initiatePlay(game) {
        let bet = prompt("Введіть суму HardKoin для ставки (мінімум 50):");
        bet = parseInt(bet);

        if (isNaN(bet) || bet < 50) return alert("Мінімальна ставка — 50 HK!");
        if (bet > balance) return alert("Недостатньо коштів!");

        balance -= bet;
        updateUI();

        let userGuess = "";
        if (game === 'hacker') {
            userGuess = prompt("ВСТАНОВІТЬ 4-ЗНАЧНИЙ КОД (0000-9999):");
            if (!userGuess || userGuess.length !== 4) {
                balance += bet; updateUI(); return alert("Потрібно 4 цифри!");
            }
        } else if (game === 'dice') {
            userGuess = prompt("ЯКЕ ЧИСЛО ВИПАДЕ НА КУБИКУ (1-6)?");
        }

        startAnimation(game, bet);
    }

    function startAnimation(game, bet) {
        const ui = document.getElementById('shuffleUI');
        const matrix = document.getElementById('matrix');
        ui.style.display = 'flex';
        
        let mInterval = setInterval(() => {
            matrix.innerText += Math.random().toString(36).substring(2, 15);
            if(matrix.innerText.length > 1000) matrix.innerText = "";
        }, 30);

        let t = 3.0;
        let tInterval = setInterval(() => {
            t -= 0.1;
            document.getElementById('timer').innerText = t.toFixed(1) + "s";
            if(t <= 0) {
                clearInterval(mInterval); clearInterval(tInterval);
                ui.style.display = 'none';
                
                // Жорсткий рандом
                const isWin = Math.random() < winChance;
                const multipliers = { 'cups': 4, 'hacker': 15, 'dice': 1.15 };
                
                if (isWin) {
                    let winAmt = Math.floor(bet * multipliers[game]);
                    balance += winAmt;
                    alert("КРИТИЧНА ПОМИЛКА БАЗИ: ВИГРАШ " + winAmt + " HK!");
                } else {
                    alert("ВІДМОВА У ДОСТУПІ. РЕЗУЛЬТАТ НЕ ЗБІГСЯ З ВАШИМ. Спробуйте ще раз.");
                }
                updateUI();
            }
        }, 100);
    }

    window.onload = updateUI;
</script>
</body>
</html>
