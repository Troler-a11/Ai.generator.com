<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-DREAMER | SHOP-NAME.UA</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <h1>AI-DREAMER</h1>
    <div class="limit-badge" id="counter">–ó–∞–ª–∏—à–∏–ª–æ—Å—å —Å–ø—Ä–æ–±: 5</div>
</header>

<div class="container">
    <div class="input-group">
        <input type="text" id="prompt" placeholder="–û–ø–∏—à—ñ—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É (–Ω–∞–ø—Ä. 'Cyberpunk city')">
        <button id="genBtn" onclick="generate()">–°—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞–≥—ñ—é ‚ú®</button>
    </div>
    
    <div class="loader" id="loader">üé® –®–Ü –º–∞–ª—é—î... –∑–∞—á–µ–∫–∞–π—Ç–µ</div>
    <div class="image-box">
        <img id="result" src="" alt="–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç">
    </div>
</div>

<div id="promoModal" class="modal">
    <div class="modal-content">
        <h2>–õ—ñ–º—ñ—Ç –≤–∏—á–µ—Ä–ø–∞–Ω–æ! üõë</h2>
        <p>–û–±–µ—Ä—ñ—Ç—å –ø–∞–∫–µ—Ç –¥–ª—è –ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è –±–∞–ª–∞–Ω—Å—É:</p>
        
        <div class="price-list">
            <button onclick="alert('–¢–µ—Å—Ç–æ–≤–∏–π –∫–æ–¥: test777')" class="test-btn">üéÅ –¢–µ—Å—Ç (0 –≥—Ä–Ω)</button>
            <button onclick="pay(50, '5_sprob')">üíé 5 —Å–ø—Ä–æ–± ‚Äî 50 –≥—Ä–Ω</button>
            <button onclick="pay(100, '15_sprob')">üî• 15 —Å–ø—Ä–æ–± ‚Äî 100 –≥—Ä–Ω</button>
            <button onclick="pay(250, 'unlimited')" class="gold-btn">üëë –ë–µ–∑–ª—ñ–º—ñ—Ç ‚Äî 250 –≥—Ä–Ω</button>
        </div>

        <div class="promo-section">
            <input type="text" id="promoInput" placeholder="–í–≤–µ–¥—ñ—Ç—å –∫–æ–¥ –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó">
            <button onclick="checkPromo()" class="activate-btn">–ê–∫—Ç–∏–≤—É–≤–∞—Ç–∏</button>
        </div>
        <p class="footer-note">–ì—Ä–æ—à—ñ –π–¥—É—Ç—å –Ω–∞: ilemberk3356@gmail.com</p>
    </div>
</div>

<script>
    let tries = parseInt(localStorage.getItem('ai_tries')) || 5;
    let isPremium = localStorage.getItem('ai_premium') === 'true';
    const myPaypal = "ilemberk3356@gmail.com";

    const CODES = {
        "test777": 3,
        "plus5": 5,
        "plus15": 15,
        "freeAi2026forfree": "inf"
    };

    function updateUI() {
        const counter = document.getElementById('counter');
        if (isPremium) {
            counter.innerText = "PREMIUM üöÄ";
            counter.classList.add('premium');
        } else {
            counter.innerText = `–ó–∞–ª–∏—à–∏–ª–æ—Å—å —Å–ø—Ä–æ–±: ${tries}`;
            if (tries <= 0) document.getElementById('promoModal').classList.add('active');
        }
    }

    async function generate() {
        const prompt = document.getElementById('prompt').value;
        if (!prompt) return alert("–ù–∞–ø–∏—à—ñ—Ç—å –∑–∞–ø–∏—Ç!");
        if (!isPremium && tries <= 0) return document.getElementById('promoModal').classList.add('active');

        const btn = document.getElementById('genBtn');
        const img = document.getElementById('result');
        const loader = document.getElementById('loader');

        btn.disabled = true;
        loader.style.display = "block";
        img.style.display = "none";

        const seed = Math.floor(Math.random() * 999999);
        const url = `https://image.pollinations.ai/prompt/${encodeURIComponent(prompt)}?seed=${seed}&width=1024&height=1024&nologo=true`;

        img.src = url;
        img.onload = () => {
            loader.style.display = "none";
            img.style.display = "block";
            btn.disabled = false;
            if (!isPremium) {
                tries--;
                localStorage.setItem('ai_tries', tries);
                updateUI();
            }
        };
    }

    function pay(amount, item) {
        const url = `https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business=${myPaypal}&currency_code=UAH&amount=${amount}&item_name=AI_Package_${item}`;
        window.open(url, '_blank');
        alert("–ü—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏ –≤–≤–µ–¥—ñ—Ç—å –æ—Ç—Ä–∏–º–∞–Ω–∏–π –∫–æ–¥.");
    }

    function checkPromo() {
        const val = document.getElementById('promoInput').value.trim();
        if (CODES[val]) {
            if (CODES[val] === "inf") {
                isPremium = true;
                localStorage.setItem('ai_premium', 'true');
            } else {
                tries += CODES[val];
                localStorage.setItem('ai_tries', tries);
            }
            document.getElementById('promoModal').classList.remove('active');
            updateUI();
            alert("–ê–∫—Ç–∏–≤–æ–≤–∞–Ω–æ!");
        } else {
            alert("–ö–æ–¥ –Ω–µ–≤—ñ—Ä–Ω–∏–π!");
        }
    }
    updateUI();
</script>
</body>
</html>
